{"version":3,"sources":["./src/app/cart/cart-content/cart-content.component.css","./src/app/cart/cart-content/cart-content.component.html","./src/app/cart/cart-content/cart-content.component.ts","./src/app/cart/cart-order/cart-order.component.css","./src/app/cart/cart-order/cart-order.component.html","./src/app/cart/cart-order/cart-order.component.ts","./src/app/cart/cart-reactive/cart-reactive.component.css","./src/app/cart/cart-reactive/cart-reactive.component.html","./src/app/cart/cart-reactive/cart-reactive.component.ts","./src/app/cart/cart-root/cart-root.component.css","./src/app/cart/cart-root/cart-root.component.html","./src/app/cart/cart-root/cart-root.component.ts","./src/app/cart/cart-routing.module.ts","./src/app/cart/cart.module.ts"],"names":[],"mappings":"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","file":"cart.module.chunk.js","sourcesContent":["module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-content/cart-content.component.css\n// module id = ./src/app/cart/cart-content/cart-content.component.css\n// module chunks = cart.module","module.exports = \"<ng-template #empty>\\n  <p>Votre panier est vide.</p>\\n</ng-template>\\n\\n<table *ngIf=\\\"!cart.isEmpty() ; else empty\\\">\\n  <thead>\\n  <tr>\\n    <th></th>\\n    <th>Titre</th>\\n    <th>Auteur</th>\\n    <th>Prix</th>\\n    <th>Quantité</th>\\n    <th>Montant</th>\\n    <th></th>\\n  </tr>\\n  </thead>\\n  <tbody>\\n  <tr *ngFor=\\\"let row of cart.rows ; trackBy: trackRow\\\"\\n      class=\\\"cart-row\\\"\\n      [@cartRow]=\\\"getRowState(row)\\\">\\n    <td class=\\\"cart-image\\\">\\n      <a [routerLink]=\\\"url.catalogBook(row.book)\\\">\\n        <img [src]=\\\"row.book.image\\\">\\n      </a>\\n    </td>\\n    <td class=\\\"cart-title\\\">{{row.book.title}}</td>\\n    <td class=\\\"cart-author\\\">{{row.book.author}}</td>\\n    <td class=\\\"cart-price right\\\">{{row.book.price |currency:'EUR'}}</td>\\n    <td class=\\\"cart-quantity\\\"><input type=\\\"number\\\"\\n               [ngModel]=\\\"row.quantity\\\"\\n               (ngModelChange)=\\\"cart.updateQuantity(row, $event)\\\"></td>\\n    <td class=\\\"cart-amount right\\\">{{row.amount() |currency:'EUR'}}</td>\\n    <td class=\\\"cart-button\\\">\\n      <button (click)=\\\"cart.remove(row)\\\">\\n        <img src=\\\"assets/img/cart-remove.png\\\">\\n      </button>\\n    </td>\\n  </tr>\\n  </tbody>\\n  <tfoot>\\n  <tr>\\n    <td colspan=\\\"3\\\"></td>\\n    <td>TOTAL :</td>\\n    <td>{{cart.count()}} art.</td>\\n    <td>{{cart.total() |currency:'EUR'}}</td>\\n    <td></td>\\n  </tr>\\n  </tfoot>\\n</table>\\n\\n<p>\\n  <app-order-button></app-order-button>\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-content/cart-content.component.html\n// module id = ./src/app/cart/cart-content/cart-content.component.html\n// module chunks = cart.module","import {Component, LOCALE_ID, OnInit} from '@angular/core';\nimport {Title} from '@angular/platform-browser';\nimport {CartService} from '../../core/services/cart.service';\nimport {UrlService} from '../../core/services/url.service';\nimport {CartRow} from '../../core/model/cart-row';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\n\n@Component({\n  selector: 'app-cart-content',\n  templateUrl: './cart-content.component.html',\n  styleUrls: ['./cart-content.component.css'],\n  animations: [\n    trigger('cartRow', [\n      transition('in => out',\n        animate(500,\n          style({\n            transform: 'scale(0)',\n            // opacity: 0,\n          })\n        )\n      ),\n      transition('void => new',\n        animate(500,\n          style({\n            transform: 'scale(1)',\n            // opacity: 0,\n          })\n        )\n      ),\n      state('void',\n        style({\n          transform: 'scale(0)'\n        })\n      ),\n      transition('in => new',\n        animate(500,\n          style({\n            backgroundColor: 'yellow',\n          })\n        )\n      ),\n    ])\n  ]\n})\nexport class CartContentComponent implements OnInit {\n\n  constructor(private title: Title,\n              public cart: CartService,\n              public url: UrlService) { }\n\n  getRowState(row: CartRow) {\n    if (row.added) {\n      return 'new';\n    } else if (row.deleted) {\n      return 'out';\n    } else {\n      return 'in';\n    }\n  }\n\n  ngOnInit() {\n    this.title.setTitle('Panier');\n  }\n\n  trackRow(index: number, row: CartRow): string {\n    return row.book._id.$oid;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart-content/cart-content.component.ts","module.exports = \".debug {\\n  float: right;\\n  border: 2px dotted grey;\\n  border-radius: 7px;\\n  padding: 1em;\\n  margin: 1em;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-order/cart-order.component.css\n// module id = ./src/app/cart/cart-order/cart-order.component.css\n// module chunks = cart.module","module.exports = \"<div class=\\\"debug\\\">\\n  <pre>{{data |json}}</pre>\\n  <p><button (click)=\\\"log()\\\">log</button></p>\\n</div>\\n\\n<form #formInfo=\\\"ngForm\\\"\\n      [class.submitted]=\\\"formInfo.submitted\\\"\\n      (ngSubmit)=\\\"formInfo.valid && save()\\\">\\n  <fieldset ngModelGroup=\\\"identity\\\">\\n    <legend>Identité</legend>\\n    <app-field label=\\\"Prénom\\\">\\n      <input type=\\\"text\\\" name=\\\"firstname\\\"\\n             [(ngModel)]=\\\"data.identity.firstname\\\">\\n    </app-field>\\n    <app-field label=\\\"*Nom\\\">\\n      <input type=\\\"text\\\" name=\\\"lastname\\\"\\n             [(ngModel)]=\\\"data.identity.lastname\\\"\\n             required minlength=\\\"2\\\">\\n    </app-field>\\n    <app-field label=\\\"Email\\\">\\n      <input type=\\\"email\\\" domain=\\\"gmail.com\\\" name=\\\"email\\\"\\n             [(ngModel)]=\\\"data.identity.email\\\">\\n    </app-field>\\n    <app-field label=\\\"Téléphone\\\">\\n      <input type=\\\"tel\\\" name=\\\"phone\\\"\\n             [(ngModel)]=\\\"data.identity.phone\\\">\\n    </app-field>\\n  </fieldset>\\n  <div>\\n    <ng-container *ngTemplateOutlet=\\\"addressTpl;\\n       context: {legend: 'Adresse de livraison', group: 'shipping', address: data.shipping}\\\"></ng-container>\\n  </div>\\n  <p>\\n    <label>\\n      <input type=\\\"checkbox\\\" name=\\\"hasBillingAddress\\\"\\n             [(ngModel)]=\\\"data.hasBillingAddress\\\">\\n      adresse de facturation différente\\n    </label>\\n  </p>\\n  <div *ngIf=\\\"data.hasBillingAddress\\\">\\n    <ng-container *ngTemplateOutlet=\\\"addressTpl;\\n       context: {legend: 'Adresse de facturation', group: 'billing', address: data.billing}\\\"></ng-container>\\n  </div>\\n\\n  <p>\\n    <button type=\\\"submit\\\"\\n            [disabled]=\\\"formInfo.invalid && formInfo.submitted\\\">Envoyer</button>\\n  </p>\\n\\n  <ng-template #addressTpl let-legend=\\\"legend\\\" let-address=\\\"address\\\" let-group=\\\"group\\\">\\n    <fieldset [ngModelGroup]=\\\"group\\\">\\n      <legend>{{legend}}</legend>\\n      <app-field label=\\\"Numéro et rue\\\">\\n        <input type=\\\"text\\\" name=\\\"street\\\"\\n               [(ngModel)]=\\\"address.street\\\">\\n      </app-field>\\n      <app-field label=\\\"*Code postal\\\">\\n        <input type=\\\"text\\\" name=\\\"zipcode\\\"\\n               [(ngModel)]=\\\"address.zipcode\\\"\\n               required zipcode>\\n      </app-field>\\n      <app-field label=\\\"*Ville\\\">\\n        <input type=\\\"text\\\" name=\\\"city\\\"\\n               [(ngModel)]=\\\"address.city\\\"\\n               required>\\n      </app-field>\\n      <app-field label=\\\"Pays\\\">\\n        <input type=\\\"text\\\" name=\\\"country\\\"\\n               [(ngModel)]=\\\"address.country\\\"\\n               list=\\\"countryList\\\">\\n        <datalist id=\\\"countryList\\\">\\n          <option *ngFor=\\\"let country of countries$ |async\\\">{{country}}</option>\\n        </datalist>\\n      </app-field>\\n    </fieldset>\\n  </ng-template>\\n\\n</form>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-order/cart-order.component.html\n// module id = ./src/app/cart/cart-order/cart-order.component.html\n// module chunks = cart.module","import {AfterViewInit, Component, ContentChild, OnInit, ViewChild} from '@angular/core';\nimport {FormGroup, NgForm} from '@angular/forms';\nimport {debounceTime, distinctUntilChanged, filter, map, switchMap} from 'rxjs/operators';\nimport {CountryService} from '../../core/services/country.service';\nimport {Observable} from 'rxjs/Observable';\n\n@Component({\n  selector: 'app-cart-order',\n  templateUrl: './cart-order.component.html',\n  styleUrls: ['./cart-order.component.css']\n})\nexport class CartOrderComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('formInfo') formInfo: NgForm;\n\n  countries$: Observable<string[]>;\n  data = {\n    identity: {\n      firstname: '',\n      lastname: '',\n      email: '',\n      phone: '',\n    },\n    shipping: {\n      street: '',\n      zipcode: '',\n      city: '',\n      country: '',\n    },\n    billing: {\n      street: '',\n      zipcode: '',\n      city: '',\n      country: '',\n    },\n    hasBillingAddress: false\n  };\n\n  save() {\n    if (this.formInfo.valid) {\n      console.log(this.data);\n    }\n  }\n  log() {\n    console.log(this.formInfo);\n  }\n\n  constructor(private country: CountryService) { }\n\n  ngOnInit() {}\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.initAutocomplete();\n    });\n  }\n\n  private initAutocomplete() {\n    const addressGroup = this.formInfo.controls['shipping'] as FormGroup;\n    const countryControl = addressGroup.controls['country'];\n    this.countries$ = countryControl.valueChanges.pipe(\n      map(name => name && name.trim()),\n      filter(name => name && name.length >= 2),\n      debounceTime(500),\n      distinctUntilChanged(),\n      switchMap(name => this.country.search(name))\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart-order/cart-order.component.ts","module.exports = \".debug {\\n  float: right;\\n  border: 2px dotted grey;\\n  border-radius: 7px;\\n  padding: 1em;\\n  margin: 1em;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-reactive/cart-reactive.component.css\n// module id = ./src/app/cart/cart-reactive/cart-reactive.component.css\n// module chunks = cart.module","module.exports = \"<div class=\\\"debug\\\">\\n  <pre>{{form.value |json}}</pre>\\n</div>\\n\\n<form [formGroup]=\\\"form\\\"\\n      (ngSubmit)=\\\"onSubmit()\\\"\\n      [class.submitted]=\\\"submitted\\\">\\n  <fieldset formGroupName=\\\"identity\\\">\\n    <legend>Identité</legend>\\n    <app-field label=\\\"Prénom\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"firstname\\\">\\n    </app-field>\\n    <app-field label=\\\"Nom\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"lastname\\\">\\n    </app-field>\\n    <app-field label=\\\"Email\\\">\\n      <input type=\\\"email\\\" formControlName=\\\"email\\\">\\n    </app-field>\\n    <app-field label=\\\"Téléphone\\\">\\n      <input type=\\\"tel\\\" formControlName=\\\"phone\\\">\\n    </app-field>\\n  </fieldset>\\n  <fieldset formGroupName=\\\"shipping\\\">\\n    <legend>Adresse de livraison</legend>\\n    <app-field label=\\\"Numéro et rue\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"street\\\">\\n    </app-field>\\n    <app-field label=\\\"Code postal\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"zipcode\\\">\\n    </app-field>\\n    <app-field label=\\\"Ville\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"city\\\">\\n    </app-field>\\n    <app-field label=\\\"Pays\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"country\\\">\\n    </app-field>\\n  </fieldset>\\n  <p>\\n    <label>\\n      <input type=\\\"checkbox\\\"\\n             formControlName=\\\"hasBillingAddress\\\"\\n             (change)=\\\"toggleBillingAddress()\\\">\\n      adresse de facturation différente\\n    </label>\\n  </p>\\n  <fieldset formGroupName=\\\"billing\\\"\\n            *ngIf=\\\"hasBillingAddress()\\\">\\n    <legend>Adresse de facturation</legend>\\n    <app-field label=\\\"Numéro et rue\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"street\\\">\\n    </app-field>\\n    <app-field label=\\\"Code postal\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"zipcode\\\">\\n    </app-field>\\n    <app-field label=\\\"Ville\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"city\\\">\\n    </app-field>\\n    <app-field label=\\\"Pays\\\">\\n      <input type=\\\"text\\\" formControlName=\\\"country\\\">\\n    </app-field>\\n  </fieldset>\\n  <p>\\n    <button type=\\\"submit\\\"\\n            [disabled]=\\\"isDisabled()\\\">Envoyer</button>\\n  </p>\\n</form>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-reactive/cart-reactive.component.html\n// module id = ./src/app/cart/cart-reactive/cart-reactive.component.html\n// module chunks = cart.module","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {AppValidators} from '../../core/util/app-validators';\n\n@Component({\n  selector: 'app-cart-reactive',\n  templateUrl: './cart-reactive.component.html',\n  styleUrls: ['./cart-reactive.component.css']\n})\nexport class CartReactiveComponent implements OnInit {\n\n  submitted = false;\n\n  form: FormGroup;\n  identity: FormGroup;\n  shipping: FormGroup;\n  billing: FormGroup;\n\n  onSubmit() {\n    this.submitted = true;\n    if (this.form.valid) {\n      this.save();\n    }\n  }\n  private save() {\n    console.log(this.form.value);\n  }\n  isDisabled() {\n    return this.form.invalid && this.submitted;\n  }\n  hasBillingAddress() {\n    return this.form.value.hasBillingAddress;\n  }\n  toggleBillingAddress() {\n    if (this.hasBillingAddress()) {\n      this.billing = this.buildAddressGroup();\n      this.form.addControl('billing', this.billing);\n    } else {\n      this.form.removeControl('billing');\n    }\n  }\n\n  constructor(private fb: FormBuilder) { }\n  ngOnInit() {\n    this.identity = this.fb.group({\n      firstname: '',\n      lastname: ['', {\n        validators: [\n          Validators.required,\n          Validators.minLength(2)\n        ]\n      }],\n      email: ['', {\n        validators: [\n          AppValidators.email('gmail.com')\n        ]\n      }],\n      phone: '',\n    });\n    this.shipping = this.buildAddressGroup();\n    this.form = this.fb.group({\n      identity: this.identity,\n      shipping: this.shipping,\n      hasBillingAddress: false\n    });\n\n    this.form.patchValue({\n      identity: {\n        firstname: 'Thierry',\n        lastname: 'Chatel',\n      },\n      shipping: {\n        city: 'Lunel',\n      },\n    });\n  }\n  private buildAddressGroup() {\n    return this.fb.group({\n      street: '',\n      zipcode: ['', {\n        validators: [\n          Validators.required,\n          AppValidators.zipcode\n        ],\n      }],\n      city: ['', {\n        validators: [\n          Validators.required,\n        ]\n      }],\n      country: '',\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart-reactive/cart-reactive.component.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-root/cart-root.component.css\n// module id = ./src/app/cart/cart-root/cart-root.component.css\n// module chunks = cart.module","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/cart/cart-root/cart-root.component.html\n// module id = ./src/app/cart/cart-root/cart-root.component.html\n// module chunks = cart.module","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-cart-root',\n  templateUrl: './cart-root.component.html',\n  styleUrls: ['./cart-root.component.css']\n})\nexport class CartRootComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart-root/cart-root.component.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {CartRootComponent} from './cart-root/cart-root.component';\nimport {CartContentComponent} from './cart-content/cart-content.component';\nimport {CartOrderComponent} from './cart-order/cart-order.component';\nimport {CartReactiveComponent} from './cart-reactive/cart-reactive.component';\nimport {NonEmptyCartGuard} from '../core/services/non-empty-cart.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartRootComponent,\n    children: [\n      {path: 'content', component: CartContentComponent},\n      {path: 'order', component: CartOrderComponent,\n       canActivate: [NonEmptyCartGuard]},\n      {path: 'reactive', component: CartReactiveComponent},\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CartRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CartRoutingModule } from './cart-routing.module';\nimport { CartRootComponent } from './cart-root/cart-root.component';\nimport { CartContentComponent } from './cart-content/cart-content.component';\nimport { CartOrderComponent } from './cart-order/cart-order.component';\nimport { CartReactiveComponent } from './cart-reactive/cart-reactive.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ServicesModule} from '../core/services/services.module';\nimport {WidgetsModule} from '../core/widgets/widgets.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    WidgetsModule,\n    CartRoutingModule\n  ],\n  declarations: [CartRootComponent, CartContentComponent, CartOrderComponent, CartReactiveComponent]\n})\nexport class CartModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/cart/cart.module.ts"],"sourceRoot":"webpack:///"}